Document Summary Index
======================



![image](https://github.com/user-attachments/assets/d1e72c7a-ebc7-46e0-8dc0-03d06ec990ad)



- Each Document create node -> each node construct document summary
- document summary consists of information of all nodes.
- from each document , we are creating multiple nodes, for each nodes we create document summary.
- context present in query match with the context present in summary by llm.
- cosine similarity of the query will be calculated with the each of the embedding summary and then
  that embedding summary will be retrieved which has highest cosine similarity with the query.
- and then corresponding document summary will be retrieved and then document corresponding will be retrieved.


![image](https://github.com/user-attachments/assets/525cef89-6c09-4f1f-af97-d7c25f435da5)


- each 15 documents have summary id
- then embeddings are created for summary
- then each of embeddings will have embedding id.
  
![image](https://github.com/user-attachments/assets/99923cdc-ceb0-4804-a3a6-38935d3af5c2)

![image](https://github.com/user-attachments/assets/e739f7a8-e2bf-4b3b-a2e8-cebcaeaab47f)

![image](https://github.com/user-attachments/assets/81581a10-cc45-4ce0-a394-f85ce58913f7)

Mapping document id to summary id - each summaryid will have embedding id :
===========================================================================

![image](https://github.com/user-attachments/assets/dc3aafcd-d85c-4b67-a0df-47692416388b)


Mapping document node id to summary id  -> node has raw text , summary contain information of raw text:
=========================================================================================================

- below summary id - > document summary id should be same.
- 1 summary for the entire document and it is going to be same for all the nodes of a given document. 



![image](https://github.com/user-attachments/assets/85b70899-46a8-456e-b97d-b4881c91cdcb)




![image](https://github.com/user-attachments/assets/ac28eee7-aa8c-41bb-aa5e-cb44f532dc30)


vector and document store:
===========================

vector store - embeddings
document store - actual summary and actual chunk 

![image](https://github.com/user-attachments/assets/2d151a87-f95f-41c1-a11e-114ffdf3eabd)


