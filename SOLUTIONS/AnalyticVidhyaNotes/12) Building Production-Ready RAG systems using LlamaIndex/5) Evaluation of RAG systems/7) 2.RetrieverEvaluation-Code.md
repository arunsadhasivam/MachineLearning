Retrieval Evaluation:
=====================

1) Hit Rate
2) Mean Relevancy Ratio

![image](https://github.com/user-attachments/assets/5713d349-830a-4ee2-a28c-15ca55c188e9)



Step 1:Sentence Splitter:
==============================


![image](https://github.com/user-attachments/assets/d7ef10e3-aaed-452e-a007-ffb3e0c778d5)
![image](https://github.com/user-attachments/assets/f21bdfb2-7d35-45cf-943f-d821b9538f78)

pass to vector store index 
![image](https://github.com/user-attachments/assets/d3112714-aa3c-4342-84e7-3e8aed857218)


setup retriever:
=================

![image](https://github.com/user-attachments/assets/faf46dcf-8909-4e11-87a5-e4deb69523af)


evaluation query:
====================

![image](https://github.com/user-attachments/assets/61a83557-ce7a-44f9-ab95-011b3c28acba)

retriever nodes for evaluation query:
======================================


![image](https://github.com/user-attachments/assets/b3726e25-42b4-4e2f-8507-2bf4bc42f9cf)

first retrieved node.

![image](https://github.com/user-attachments/assets/a6540f87-b641-4e8a-97db-9bb9335c54f9)

print
![image](https://github.com/user-attachments/assets/41115d93-1fb8-40e9-be66-883543930d9e)


nodeid and relevancy score.

top 2 score retrieved.

![image](https://github.com/user-attachments/assets/d49550b0-0632-434f-9a22-f87d8af8b120)


generate 2 questions per chunk
![image](https://github.com/user-attachments/assets/338b0b05-5f2d-4d42-a3eb-b86c6910ec3b)

![image](https://github.com/user-attachments/assets/beb62cc5-38bc-4b21-8907-c22aa62fdee5)

![image](https://github.com/user-attachments/assets/71975b10-c527-4881-af21-cfb120e200d8)

retriever evaluator - metrics are 
1) mrr and
2) hitrate

   ![image](https://github.com/user-attachments/assets/46929473-64f1-475e-81a6-140eb6e8dfcb)


try on sample query 
1) query - sample query , sample expected and evaluate result.


   ![image](https://github.com/user-attachments/assets/fbbefdb8-036f-4889-908b-806b211094a3)

- for that query mrr 1.0 and hit rate 1.0

  repeat for next records
  ![image](https://github.com/user-attachments/assets/9880667b-f609-4a4a-bec0-7f1d84c83397)

eval_results have all results

![image](https://github.com/user-attachments/assets/32a6f9e2-b9bd-4f0b-bdfb-813ad96970a4)

![image](https://github.com/user-attachments/assets/c4af83bb-a992-4dcf-bbcd-7c7aa6a12834)

Summary:
========

- my retriever is good enough( mrr-1.0, hitrate-1.0) able to retrieve **most
  relevant nodes** in **most relevant positions**
